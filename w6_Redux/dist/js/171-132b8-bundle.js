(self.webpackChunkw5_React=self.webpackChunkw5_React||[]).push([[171],{92171:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>h}),t(20703);var r=t(36579),s=(t(47233),t(71687)),n=(t(84445),t(5596)),l=(t(19512),t(57867)),o=t(87401),u=t(47669),m=t.n(u),c=t(89602);function i(){return(i=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}console.log("CryptoJS",m());const p={labelCol:{span:6},wrapperCol:{span:16}},d={wrapperCol:{offset:6,span:16}},w={username:[{required:!0,message:"用户名不能为空"},{async validator(e,a){if(!a)return;const{data:t}=await c.Z.get("/user/check",{params:{username:a}});return 200===t.status?Promise.resolve():Promise.reject("用户名已存在")}}],password:[{required:!0,message:"密码不能为空"},{min:6,max:12,message:"密码长度必须为6-12位字符"}]},h=function(e){return o.createElement("div",null,o.createElement("h1",null,"免费注册"),o.createElement(s.Z,i({},p,{name:"basic",initialValues:{remember:!0},onFinish:async a=>{a.password=m().SHA256(a.password).toString(),console.log("加密后=",a);const{data:t}=await c.Z.post("/user/reg",a);200===t.status&&l.default.success("注册成功"),e.history.push({pathname:"/login",state:{username:a.username}})}}),o.createElement(s.Z.Item,{label:"用户名",name:"username",rules:w.username,hasFeedback:!0},o.createElement(n.Z,null)),o.createElement(s.Z.Item,{label:"密码",name:"password",rules:w.password},o.createElement(n.Z.Password,null)),o.createElement(s.Z.Item,d,o.createElement(r.default,{type:"primary",htmlType:"submit"},"注册"))))}}}]);